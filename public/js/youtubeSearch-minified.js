jQuery.ajaxSettings.traditional=!0,$("#searchButton").click(t=>{t.preventDefault();const e=$("#searchText").val();$("#results").empty(),ajaxSearchCall(e)});const ajaxSearchCall=t=>{$.ajax({url:"http://localhost:3000/playlists/youtube/search/"+t,type:"GET",dataType:"Json",success:t=>{const e=[];for(let a=0;a<t.length;a++)"youtube#video"===t[a].kind&&e.push(t[a]);for(let t=0;t<e.length;t++){const a=$('<div class="result">');a.append($('<img class="thumbnail" src="'+e[t].thumbnails.medium.url+'">'));const l=$('<div class="resultText" title="'+e[t].title+" -|- "+e[t].channelTitle+'">');l.append($("<h6>"+e[t].title+"</h6>")),l.append($("<p>"+e[t].channelTitle+"</p>")),a.data(e[t]),$("#results").append(a.append(l))}},error:t=>{console.log(t)}})},ajaxOldSearchCall=t=>{$.ajax({url:"http://localhost:3000/playlists/youtube/search/"+t,type:"GET",dataType:"Json",success:t=>{const e=$('<div class="result">');e.append($('<img class="thumbnail" src="'+t[0].thumbnails.medium.url+'">'));const a=$('<div class="resultText" title="'+t[0].title+" -|- "+t[0].channelTitle+'">');a.append($("<h6>"+t[0].title+"</h6>")),a.append($("<p>"+t[0].channelTitle+"</p>")),e.data(t[0]),$("#videos").append(e.append(a))},error:t=>{console.log(t)}})},ajaxSaveCall=(t,e)=>{$.ajax({url:"/playlists/save/"+t,type:"POST",data:e,success:t=>{window.location.assign("http://localhost:3000/playlists/"+t)},error:t=>{console.log(t)}})};$(".resultsAndVideos").sortable({connectWith:".resultsAndVideos",helper:"clone",zIndex:1e4}),$("#saveButton").click(t=>{t.preventDefault();const e={title:$("#title").text(),videoIds:[]};$("#videos").children().each(function(){e.videoIds.push($(this).data().id)}),ajaxSaveCall($("#title").attr("data-id"),e)}),$.ajax({url:"/playlists/getplaylist/"+$("#title").attr("data-id"),type:"GET",dataType:"Json",success:t=>{for(let e=0;e<t.length;e++)ajaxOldSearchCall(t[e])},error:t=>{console.log(t)}});